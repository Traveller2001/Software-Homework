[https://github.com/Timezzz/032002621]()
# 一、PSP表格(6')
|PSP2.1|PSPS|预估耗时/min|实际耗时/min|   
| ---- | ---- | ---- |------|
|Planning|计划|60|80|
|Estimate|估计这个任务需要多少时间|40|50|
|Development|开发|960|1050|
|Analysis|需求分析 (包括学习新技术)|600|360|
|Design Spec|生成设计文档|120|40|
|Design Review|设计复审|60|30|
|Coding Standard|代码规范 (为目前的开发制定合适的规范)|60|20|
|Design|具体设计|120|120|
|Coding|具体编码|780|420|
|Code Review|代码复审|60|60|
|Test|测试（自我测试，修改代码，提交修改）|360|240|
|Reporting|报告|180|240|
|Test Report|测试报告|120|200|
|Size Measurement|计算工作量|40|30|
|Postmortem & ProcessImprovement Plan|事后总结, 并提出过程改进计划|120|60|
|total|合计|3680|3000|
# 二、任务要求的实现
## 项目设计与技术栈。从阅读完题目到完成作业，这一次的任务被你拆分成了几个环节？你分别通过什么渠道、使用什么方式方法完成了各个环节？列出你完成本次任务所使用的技术栈。（5'）
- 分成三个环节1.爬取数据 2.处理数据 3.数据可视化
- 渠道：Github、博客园、CSDN、百度、bilibili
- 技术栈：主要是Python和一些库,如pyppeteer,re,bs4,os,xlwt,pyecharts
## 爬虫与数据处理。说明业务逻辑，简述代码的设计过程（例如可介绍有几个类，几个函数，他们之间的关系），并对关键的函数或算法进行说明。（20'）
1.get_data.py,本程序用来遍历所有疫情通报网站，提取其中的文本信息并保存在本地
- def getPageUrl():观察发现，卫健委是通过改变url来翻页的，且具有固定的格式。
例如http://www.nhc.gov.cn/xcs/yqtb/list_gzbd.shtml是首页
而http://www.nhc.gov.cn/xcs/yqtb/list_gzbd2.shtml是第二页
利用这样的规则可以遍历所有页面
- def getContent(html)，
观察网页源码，会发现疫情通报详细文本信息放着网页的xw_box下，此函数用来爬取疫情通报的文本信息

2.write_into_excel.py,本函数用来分析提取需要的文本数据，并将其存入excel表格中，主要的思路是观察文本，利用正则表达式提取出关键信息,同时写成excel文件
3.visualize.py,数据可视化，套用已有的地图模板，遍历每个表格，将省份和数据一一对应，数值越大的在地图上颜色越深。
##数据统计接口部分的性能改进。记录在数据统计接口的性能上所花费的时间，描述你改进的思路，并展示一张性能分析图（例如可通过VS 2019/JProfiler的性能分析工具自动生成），并展示你程序中消耗最大的函数。（6'）
- 使用了python自带的cprofile进行分析，不知道为啥输出了一串000，本程序基于一系列bug运行，比较难以改进qaq

## 每日热点的实现思路。简要介绍实现该功能的算法原理，可给出必要的步骤流程图、数学公式推导和核心代码实现，并简要谈谈所采用算法的优缺点与可能的改进方案。（6'）
- 思路：爬取微博排行榜，使用NLP技术匹配和疫情相关的文字（只是想一下，AI技术没时间学辣）
## 数据可视化界面的展示。在博客中介绍数据可视化界面的组件和设计的思路。（15'）
- 思路：在网上找了中国地图的echarts模板，将excel的数据导入该模板中，疫情人数越多的地区颜色会越深。
# 三、心得体会
## 在这儿写下你完成本次作业的心得体会，当然，如果你还有想表达的东西但在上面两个板块没有体现，也可以写在这儿~（10'）
- 这次的任务对于我来说难度还是很大的，很遗憾到最后也没能完全完成，期间也求助了很多同学，感谢他们对我的帮助。Python库和语法都得重新学，一时间毫无头绪，一切是先从CV开始的，上哔哩哔哩大学学了一下思路，网上其实有挺多人在做疫情可视化的，但是代码都比较难以看懂，光是第一步爬取数据就卡了我两天，自己写的requests爬不下来，最后在github找到一个开源的项目，调用了人家的函数，在此感谢他@star428，找到他的项目那一刻是欣喜若狂的，和本次作业的要求很像，但又不完全一样，于是我花了一天时间魔改了他的代码，但是一直跑不起来，相当沮丧
- 虽然最后没能很好完成作业，但是我还是在本次作业中学到了挺多知识的，python真的是非常强大且胶水的语言（指缝合一大堆库）
- 感谢观看
